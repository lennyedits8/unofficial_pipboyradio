@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono:wght@400&display=swap');

/* =========================
   THEME VARIABLES
   ========================= */

/* Fallout 4 Theme (default green CRT) */
:root {
  /* Backgrounds */
  --color-bg: #10150c;             /* very dark, slightly greenish-black */
  --color-bg-alt: rgba(16, 21, 12, 0.9); /* overlay panels / secondary background */

  /* Text & UI colors */
  --color-primary: #7CFC00;        /* bright neon green text */
  --color-primary-rgb: 124, 252, 0;
  --color-secondary: #5DAA00;      /* subtler green for secondary elements */
  --color-border: #3a4a1f;         /* border / divider lines */
  --color-dim: #2e3a1c;            /* darker text / progress background */

  /* Glow / shadows */
  --color-shadow: rgba(124, 252, 0, 0.3);     /* soft outer glow */
  --color-shadow-soft: rgba(124, 252, 0, 0.1); /* inset glow */

  /* Sliders */
  --color-slider-bg: #1b2410;      /* track background */
  --color-slider-fill: #7CFC00;    /* fill color for progress/volume sliders */

  /* Icons (instant neon glow, no flicker) */
  --icon-filter: brightness(0) saturate(100%) invert(57%) sepia(99%) saturate(5900%) hue-rotate(85deg) drop-shadow(0 0 6px var(--color-primary));
}


/* New Vegas Theme (closer to actual screenshot) */
body[data-theme="vegas"] {
  /* Backgrounds */
  --color-bg: #3b2912;           /* rich brown base */
  --color-bg-alt: rgba(59, 41, 18, 0.9); /* overlay / panels */

  /* Text and primary UI */
  --color-primary: #f5c13d;       /* bright amber text */
  --color-primary-rgb: 245, 193, 61;
  --color-secondary: #d9a73c;     /* secondary / subtler text */
  --color-dim: #8b6b32;           /* dimmer text / progress background */
  --color-border: #7a5b2f;        /* borders / lines */

  /* Glow / shadows */
  --color-shadow: rgba(245, 193, 61, 0.3); /* soft outer glow */
  --color-shadow-soft: rgba(245, 193, 61, 0.1); /* inset glow */

  /* Sliders */
  --color-slider-bg: #2d1f0f;    /* track background */
  --color-slider-fill: #f5c13d;  /* fill color */

  /* Icons (instant transition, warm amber glow) */
  --icon-filter: brightness(0) saturate(100%) invert(80%) sepia(75%) saturate(1200%) hue-rotate(35deg) drop-shadow(0 0 6px var(--color-primary));
}


/* =========================
   BASE STYLES
   ========================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Share Tech Mono', monospace;
  background: var(--color-bg);
  color: var(--color-primary);
  line-height: 1.4;
  overflow-x: hidden;
}

.background {
  min-height: 100vh;
  background: 
    radial-gradient(circle at 20% 50%, rgba(var(--color-primary-rgb), 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(var(--color-primary-rgb), 0.03) 0%, transparent 50%),
    radial-gradient(circle at 40% 80%, rgba(var(--color-primary-rgb), 0.03) 0%, transparent 50%),
    var(--color-bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  position: relative;
}

.background::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(var(--color-primary-rgb), 0.02) 2px,
      rgba(var(--color-primary-rgb), 0.02) 4px
    );
  pointer-events: none;
  z-index: 1;
}

.system-header {
  text-align: center;
  margin-bottom: 30px;
  z-index: 2;
  position: relative;
}

@media (max-width: 800px) {
  .system-header {
    margin-top: 50px; /* more breathing room for small screens - toggle spacing */
  }
}


.main-title {
  font-size: 2.5rem;
  color: var(--color-primary);
  text-shadow: 0 0 10px var(--color-primary);
  margin-bottom: 10px;
  letter-spacing: 2px;
  animation: flicker 3s infinite alternate;
}

.subtitle {
  font-size: 1rem;
  color: var(--color-secondary);
  letter-spacing: 1px;
}

.terminal-window {
  width: 100%;
  max-width: 800px;
  background: var(--color-bg-alt);
  border: 2px solid var(--color-primary);
  border-radius: 8px;
  box-shadow: 
    0 0 20px var(--color-shadow),
    inset 0 0 20px var(--color-shadow-soft);
  position: relative;
  z-index: 2;
}

.terminal-content {
  padding: 25px;
}

.terminal-header {
  text-align: center;
  margin-bottom: 30px;
  border-bottom: 1px solid var(--color-border);
  padding-bottom: 15px;
}

.terminal-header h2 {
  font-size: 1.3rem;
  color: var(--color-primary);
  margin-bottom: 5px;
  letter-spacing: 1px;
}

.copyright {
  font-size: 0.9rem;
  color: var(--color-border);
}

.section-title {
  font-size: 1.1rem;
  color: var(--color-primary);
  margin-bottom: 15px;
  text-shadow: 0 0 5px var(--color-primary);
}

.now-playing {
  margin-bottom: 30px;
}

.player-info {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(var(--color-primary-rgb), 0.05);
  border: 1px solid var(--color-border);
  border-radius: 4px;
}

.album-cover {
  width: 80px;
  height: 80px;
  border: 1px solid var(--color-primary);
  border-radius: 4px;
  box-shadow: 0 0 10px var(--color-shadow);
}

.track-info {
  flex: 1;
}

.track-title {
  font-size: 1.2rem;
  color: var(--color-primary);
  margin-bottom: 5px;
  font-weight: bold;
}

.artist-name {
  font-size: 1rem;
  color: var(--color-secondary);
}

.player-controls {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

/* Progress Slider */
.progress-slider {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: linear-gradient(
    to right,
    var(--color-primary) 0%,
    var(--color-dim) 0%
  );
  outline: none;
  cursor: pointer;
  transition: background 0.2s linear;
}


.progress-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  box-shadow: 0 0 8px var(--color-primary);
  cursor: pointer;
  transition: transform 0.2s ease;
}
.progress-slider::-webkit-slider-thumb:active { transform: scale(1.2); }

.progress-slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  box-shadow: 0 0 8px var(--color-primary);
  cursor: pointer;
  transition: transform 0.2s ease;
}
.progress-slider::-moz-range-thumb:active { transform: scale(1.2); }

.time-display {
  display: flex;
  justify-content: space-between;
}

/* Control Buttons */
.controls-wrapper {
  position: relative;       /* parent for absolute shuffle */
  display: flex;
  justify-content: center;  /* center the main 3 buttons */
  align-items: center;      /* vertical alignment for absolute child */
  margin: 10px 0;
  height: 50px;             /* match height of buttons */
}

.control-buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.shuffle-btn {
  position: absolute;       /* stays to the left of the centered controls */
  left: 170px;              /* desktop distance */               /* vertical center relative to parent */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: none !important;
  transition: none !important; /* disables bouncing */
}

.shuffle-btn img {
  display: block;
  width: 32px;
  height: 32px;
  margin: 0;
  padding: 0;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: none !important;
  transform: none !important;  /* prevents bouncing */
  transition: none !important; /* prevents bouncing */
}

.shuffle-btn:active,
.shuffle-btn:focus,
.shuffle-btn img:active,
.shuffle-btn img:focus {
  transform: none !important;
  transition: none !important;
  outline: none !important;
  box-shadow: none !important;
}







/* Tablet screens */
@media (max-width: 1024px) {
  .shuffle-btn {
    left: 120px;     /* a bit closer on tablet */
  }
}

/* Mobile screens */
@media (max-width: 600px) {
  .shuffle-btn {
    left: 5px;     /* closest on mobile */
  }
}

.loop-btn {
  position: absolute;       /* stays to the right of centered controls */
  right: 170px;             /* desktop distance */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: none !important;
  transition: none !important; /* disables bouncing/hover */
}

.loop-btn img {
  display: block;
  width: 32px;
  height: 32px;
  margin: 0;
  padding: 0;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: none !important;
  transform: none !important;
  transition: none !important;
}

.loop-btn:active,
.loop-btn:focus,
.loop-btn img:active,
.loop-btn img:focus {
  transform: none !important;
  transition: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Tablet screens */
@media (max-width: 1024px) {
  .loop-btn { right: 120px; }
}

/* Mobile screens */
@media (max-width: 600px) {
  .loop-btn { right: 5px; }
}



/* Mobile screens - shrink shuffle and loop icons slightly */
@media (max-width: 600px) {
  .shuffle-btn img,
  .loop-btn img {
    width: 24px !important;  /* smaller than default 32px */
    height: 24px !important;
  }
}


.control-btn {
  background: transparent;
  border: 2px solid var(--color-primary);
  color: var(--color-primary);
  width: 50px;
  height: 50px;
  font-family: inherit;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Desktop (hover-capable devices) */
@media (hover: hover) and (pointer: fine) {
  .control-btn:hover {
    background: rgba(var(--color-primary-rgb), 0.1);
    box-shadow: 0 0 15px var(--color-shadow);
  }
}

/* Touch devices (hover not supported) - no hover effects */
@media (hover: none) {
  .control-btn:hover,
  .volume-icon:hover {
    background: transparent;
    box-shadow: none;
    transform: none;
  }
}


.control-btn:active { transform: scale(0.95); }

.control-btn img {
  width: 28px;
  height: 28px;
  display: block;
  margin: 0 auto;
  filter: var(--icon-filter);
  transition: transform 0.2s ease, filter 0.2s ease;
}

#playBtn img {
  width: 24px;
  height: 24px;
}
/* Volume Section */
.volume-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  padding: 0 10px;
  box-sizing: border-box;
}

/* Force volume icon to occupy fixed space so slider doesn't move */
.volume-icon {
  width: 28px;
  height: 28px;
  min-width: 28px;      /* prevent shrinking */
  min-height: 28px;
  flex-shrink: 0;       /* no shrink */
  cursor: pointer;
  filter: var(--icon-filter);
  transition: transform 0.2s ease, filter 0.2s ease;
}

/* Volume Slider */
.volume-slider {
  -webkit-appearance: none;
  appearance: none;
  flex: 1 1 120px;
  max-width: 400px;
  min-width: 200px;
  height: 6px;
  border-radius: 3px;
  background: linear-gradient(
    to right,
    var(--color-primary) 100%,
    var(--color-dim) 100%
  );
  outline: none;
  cursor: pointer;
  transition: background 0.15s linear;
}

.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  box-shadow: 0 0 6px var(--color-primary);
  cursor: pointer;
  transition: transform 0.15s ease;
}
.volume-slider::-webkit-slider-thumb:active { transform: scale(1.15); }

.volume-slider::-moz-range-thumb {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  box-shadow: 0 0 6px var(--color-primary);
  cursor: pointer;
  transition: transform 0.15s ease;
}
.volume-slider::-moz-range-thumb:active { transform: scale(1.15); }

.volume-slider:focus { box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.12); }

.volume-display {
  font-size: 0.9rem;
  color: var(--color-primary);
  white-space: nowrap;
  min-width: 40px; /* ensure width stays consistent */
  text-align: right;
}

.tracklist { margin-bottom: 30px; }

.track-list {
  list-style: none;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  background: rgba(var(--color-primary-rgb), 0.03);
}

/* =========================
   Tracklist Toggle - Slide Up/Down
   ========================= */
.tracklist .track-list {
  max-height: none;       /* large enough for full list */
  overflow: hidden;
  opacity: 1;
  transition: max-height 0.35s ease, opacity 0.35s ease;
}

.tracklist.collapsed .track-list {
  max-height: 0;
  opacity: 0;
  pointer-events: none;      /* prevent clicks when collapsed */
}

/* Section title styling */
.tracklist .section-title {
  cursor: pointer;
  user-select: none;
  display: inline-flex;
  align-items: center;
}

/* Rotating > */
.tracklist .section-title::before {
  content: ">";
  display: inline-block;
  margin-right: 6px;
  font-size: inherit;
  transition: transform 0.35s ease;
  transform-origin: center;
}

.tracklist.collapsed .section-title::before {
  transform: rotate(0deg);       /* points right */
}

.tracklist:not(.collapsed) .section-title::before {
  transform: rotate(90deg);      /* points down */
}



.track-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.track-item:last-child { border-bottom: none; }
.track-item:hover { background: rgba(var(--color-primary-rgb), 0.1); }
.track-item.active { background: rgba(var(--color-primary-rgb), 0.15); color: var(--color-primary); }

.track-number { color: var(--color-border); min-width: 20px; }
.track-details { color: inherit; }

.system-status {
  text-align: center;
  border-top: 1px solid var(--color-border);
  padding-top: 15px;
}

.system-status p {
  color: var(--color-secondary);
  font-size: 0.9rem;
}

.terminal-version {
  text-align: center;
  margin-top: 20px;
  z-index: 2;
  position: relative;
}

.terminal-version p {
  color: var(--color-dim);
  font-size: 0.8rem;
  letter-spacing: 1px;
}

@keyframes flicker {
  0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 10px var(--color-primary); }
  20%, 24%, 55% { text-shadow: 0 0 5px var(--color-primary); }
}

@media (max-width: 768px) {
  .main-title { font-size: 1.8rem; }
  .terminal-content { padding: 20px; }
  .player-info { flex-direction: column; text-align: center; }
  .album-cover { width: 100px; height: 100px; }
  .control-buttons { gap: 15px; }
  .volume-slider { max-width: 150px; }
}

/* Theme Toggle Switch */
.theme-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
  color: var(--color-primary);
  cursor: pointer;
  user-select: none;
}

.theme-toggle input { display: none; }

.theme-toggle .slider {
  width: 40px;
  height: 20px;
  background: var(--color-border);
  border-radius: 20px;
  position: relative;
  transition: background 0.3s ease;
}

.theme-toggle .slider::before {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  background: var(--color-primary);
  box-shadow: 0 0 6px var(--color-primary);
  transition: transform 0.3s ease;
}

.theme-toggle input:checked + .slider { background: var(--color-secondary); }
.theme-toggle input:checked + .slider::before { transform: translateX(20px); }

.theme-toggle .label-text {
  color: var(--color-primary);
  font-size: 0.85rem;
}

.theme-toggle-wrapper {
  position: absolute;   /* anchor relative to .background */
  top: 15px;            /* adjust spacing from top */
  right: 15px;          /* adjust spacing from right */
  padding: 0;           /* remove extra bottom padding */
  z-index: 999;         /* keep above other elements */
}




/* 🎨 Recolor all control + volume icons instantly via theme filters */
/* 🎨 Recolor all control + volume icons instantly via theme filters */
.control-btn img,
.volume-section img {
  display: block;
  width: 32px;
  height: 32px;
  filter: var(--icon-filter);
  transition: none !important; /* 🚫 prevents color flicker */
}




body:not([data-theme="vegas"]) {
  --icon-filter: brightness(100%) saturate(100%) invert(65%) sepia(100%) saturate(4000%) hue-rotate(85deg) brightness(125%);
}


/* New Vegas amber */
body[data-theme="vegas"] {
  --icon-filter: brightness(0) saturate(100%) invert(73%) sepia(64%) saturate(687%) hue-rotate(360deg);
}

/* Radio Stations*/
.station-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* max 4 per row */
  gap: 10px;
  margin-top: 10px;
}

@media (max-width: 1024px) {
  .station-grid {
    grid-template-columns: repeat(3, 1fr); /* 3 per row on medium screens */
  }
}

@media (max-width: 768px) {
  .station-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 per row on tablets */
  }
}

@media (max-width: 480px) {
  .station-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 per row on phones */
  }
}

.station-tile {
  position: relative;
  display: block;
  border: 2px solid var(--color-primary);
  border-radius: 6px;
  overflow: hidden;
  aspect-ratio: 1 / 1;
  box-shadow: 0 0 10px var(--color-shadow);
  text-decoration: none;
  color: var(--color-primary);
  transition: all 0.3s ease;
}

/* Image fills entire tile */
.station-tile img.station-cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Text overlay at bottom */
.station-tile span.station-name {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 5px 0;
  text-align: center;
  background: rgba(0, 0, 0, 0.5);
  font-size: 0.85rem;
  font-weight: bold;
  text-shadow: 0 0 5px var(--color-primary);
}

/* Hover effect only for hover-capable devices */
@media (hover: hover) and (pointer: fine) {
  .station-tile:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px var(--color-shadow);
  }
}


.station-tile.active {
  border-color: var(--color-primary);
  box-shadow: 0 0 15px var(--color-shadow), 0 0 20px var(--color-shadow);
  animation: crtGlow 2s infinite alternate;
}

@keyframes crtGlow {
  0%   { box-shadow: 0 0 10px var(--color-shadow), 0 0 15px var(--color-shadow); }
  50%  { box-shadow: 0 0 20px var(--color-shadow), 0 0 25px var(--color-shadow); }
  100% { box-shadow: 0 0 10px var(--color-shadow), 0 0 15px var(--color-shadow); }
}

.station-tile .glow-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  border-radius: 6px;
  box-shadow: 0 0 25px var(--color-shadow), 0 0 40px var(--color-shadow);
  pointer-events: none; /* so it doesn't block clicks */
  opacity: 0;            /* hidden by default */
  transition: opacity 0.3s ease;
}

.station-tile.active .glow-overlay {
  opacity: 1;
  animation: crtGlow 1.5s infinite alternate;
}

/* Scanlines overlay for active tile */
.station-tile.active::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  border-radius: 6px;
  pointer-events: none; /* don’t block clicks */
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0px,
    rgba(0,0,0,0.05) 1px
  );
  opacity: 0.3; /* adjust visibility of lines */
  mix-blend-mode: overlay; /* optional: blends nicely with image */
  animation: scanlineFlicker 0.3s infinite alternate;
}

/* Subtle flicker for scanlines */
@keyframes scanlineFlicker {
  0% { opacity: 0.25; }
  50% { opacity: 0.35; }
  100% { opacity: 0.25; }
}



/*------*/